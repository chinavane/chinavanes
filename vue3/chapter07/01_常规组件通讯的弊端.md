# 01.常规组件通讯的弊端

随着项目复杂层度的增加组件之间的层次嵌套成了一种十分常见的现象，少的嵌套层次也有两三层，多的五六层也不是没有可能，包括之前的嵌套路由也是组件层次嵌套的一种应用场景与表现形式。因为组件层次嵌套的问题最终会引出组件之间的关系概念，包括父组件与子组件的关系，反向的子组件与父组件之间的关系，非父子组件之间的关系以及祖孙组件之间的关系等等。那么，这些不同关系之间的组件之间是否会存在信息的互通操作呢？这就是组件之间的通讯。

不像生活中的关系，父亲找你谈话，你找父亲聊天，爷爷找孙子交流，曾孙找祖父戏耍，或者表姐妹之间的谈心，堂叔侄之间的偶遇都可以做到直面的碰撞，但是 vue 的组件关系虽然就像生活中的家族谱，但是却并不能够随心所欲的找任意对象衔接的。

假若现在有一场景，包含父、子、孙三层关系结构，父下包含有三子，而一子下还带有一孙。假若该孙想要传递信息给子同辈的叔叔，那么就牵扯到非父子非祖孙之间的关系，在 vue 的嵌套组件层次里想实现这一信息传递目标就成了不容易实现的目标。

首先，想要从"孙组件 1"中传递数据到"子组件 3"，在 vue 组件通讯关系中，这种非父子非祖孙之间的跨层级的数据是无法直接传递的。

对于 vue 组件通讯来说尽可能还是单向流程处理，比如父与子、子与孙它们同属都是父子关系，而孙与子，子与父它们又同属都是子与父关系，只不过这个父子与子父的层次包含了两层。所以，想要实现既定目标需要通过几个步骤的操作流程：

第一步，需要将属性以回调函数形式从“孙组件 1”传递到“子组件 1”，看起来是子与父之间需要实现交互；
第二步，将属性以回调函数形式从“子组件 1”传递到“父组件”，需要再次利用子与父之间的交互关系；
第三步，将属性直接从“父组件”传递到“子组件 3”，这里确认的是父与子之间的关系；
第四步：“孙组件 1”中需要执行回调函数，这样“孙组件 1”的数据会传递给“子组件 1”，“子组件 1”的数据再传递给“父组件”，而最终“父组件”才能确保将属性传递给“子组件 3”。

这是多么痛苦和漫长的一次沟通交流过程，不过流程繁琐，效率也是十分的低下，目前还只有三层嵌套结构，无法想象如果层次关系是六层七层，而且不同层次之间的通讯需求又十分强烈的情况下，那是多么可怕的一种灾难。所以，需要且必须找寻一种更合理的解决方案来优化组件之间的通讯工作。

![vue3-book-16.vuex-01-利用props属性传递实现组件通讯](http://qn.chinavanes.com/qiniu_picGo/vue3-book-16.vuex-01-%E5%88%A9%E7%94%A8props%E5%B1%9E%E6%80%A7%E4%BC%A0%E9%80%92%E5%AE%9E%E7%8E%B0%E7%BB%84%E4%BB%B6%E9%80%9A%E8%AE%AF.png)
