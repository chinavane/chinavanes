# 07.pinia 状态管理器的概念

到现在为止我们已经对 vuex 状态管理器进行了完整的学习，虽然说 vuex 的功能非常的强大但不得不说这个状态管理器涉及的概念还是非常的多，设置状态 state、获取内容 getters、修改数据 mutations、异步操作 actions、模块拆分 modules、插件辅助 plugins、命名空间 namespaced 等等，这么多的概念与操作让我们对于 vuex 的学习与使用成本是不断的上升。那么，是否有一种更好的状态管理器与 vue 进行配合呢？所以，pinia 这一状态管理诞生了。pinia 是由 vue 项目的核心贡献成员 posva 主导开发，它希望利用更简单的操作方式来进行 vue 项目的状态管理，所以 pinia 简化了 vuex 中的很多概念与层次让开发人员能够更容易的上手与使用。

pinia 这一状态管理器中包含一些核心概念需要强化理解，总结起来主要包含 4 大方面：

| 内容    | 作用         | 其它                                                    |
| ------- | ------------ | ------------------------------------------------------- |
| state   | 设置状态     |                                                         |
| getters | 获取内容     | 计算数据后返回                                          |
| actions | 同步异步操作 |                                                         |
| plugins | 插件辅助     | 扩展并增强 pinia 功能，比如让仓库数据可以实现持久化存储 |

![image-20221119094559632](http://qn.chinavanes.com/qiniu_picGo/image-20221119094559632-20221119094604467.png)

将 pinia 这张核心概念清单表与 vuex 的核心概念清单表进行对比大家会发现：

- mutations 修改数据层次不再存在。vuex 中设置 mutations 主要是为了进行修改数据，但因为 vue 调试工具限制的问题又加入了 actions 层次，所以 mutations 只进行同步数据修改操作。但是同异步数据更新与调试的问题在 pinia 中都不复存在，它们在 pinia 的 action 层次中就可以实现同异步数据的修改并且还能得到 vue 调试工具的完美支持；

- 不再需要再手动的注入、导入函数，可以直接从对应的仓库中进行引入直接可以进行调用；
- 无需动态添加 store，默认情况下它们都是动态的，您甚至都不会注意到。请注意，您仍然可以随时手动使用 store 进行注册，但因为它是自动的，您无需担心；
- 不同于 vuex 拥有唯一的仓库 store，在 pinia 中可以定义多个不同的 store，这相当于 vuex 中的 modules 模块拆分操作；
- 不再拥有 modules 的嵌套结构，不过你仍然可以通过在另一个 store 中导入和使用来隐式嵌套 store，但 pinia 通过设计提供平面结构，同时仍然支持 store 之间的交叉组合方式，你甚至可以拥有 store 的循环依赖关系；
- 没有 namespaced 命名空间概念。鉴于 store 的扁平架构，“命名空间” store 是其定义方式所固有的，您可以说所有 store 都是命名空间的；

在对比了 vuex 以后可以感受到 pinia 极其的精减，那么接下来可以感受一下它的使用魅力。
