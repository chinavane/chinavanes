# 03.接口调试

不管是正式数据接口还是模拟数据接口，不管是在线模拟数据还是本地模拟数据，在请求方式为get的情况下是可以直接利用浏览器打开URL地址进行接口请求结果的查看的，但是假若请求模式是post、put与delete呢？如果仅仅是利用浏览器进行请求似乎是没有办法进行对应请求方式进行接口的测试的。如果这时候就考虑编写一定的代码，如果接口最终的结果并不是预期的内容，那么将会耗费大量的时间与精力，效果并不理想，所以可以考虑利用工具行接口的调试工作。

## 1)Swagger接口调试

如果是swagger接口工具提供的接口可以直接利用swagger本身进行接口的调试操作，比如之前swagger接口中的"网站首页Banner列表"的接口详情界面里就有一个"Try it out!"的按钮，在接口参数设置正确的情况下可以直接点击该按钮进行当前接口的测试操作，不管是成功还是失败，都可以查看到对应的Request Headers请求头报文、Response Body响应主体信息、Response Code响应状态码与Response Headers响应头报文等信息。这一过程非常的简洁明了，swagger既提供了接口以及接口说明也集成了接口调试的测试工具。

  ![image-20221118092815973](http://qn.chinavanes.com/qiniu_picGo/image-20221118092815973.png)

## 2)本地接口调试

如果测试的是在线模拟数据接口或者自行构建的本地模拟数据接口，并没有利用swagger工具进行接口与文档的创建，那么则可以利用前端接口调试工具postman进行接口的测试。

postman 的官网地址就是https://www.postman.com/，可以访问该网站进行postman工具的下载与安装操作。这一操作过程是傻瓜式安装处理，所以不再作以介绍。我们已经下载并安装了postman工具，打开以后则可以看到有类似浏览器访问地址，并且前面还有get等请求方式的选择。

现在打开之前构建的本地模拟数据接口首页地址 http://localhost:5000 就可以看到接口主页， 而 users 也进入到了我们的 json-server 服务接口当中，打开浏览器或者利用 postman 进行接口调试都可以看到用户的随机数据。

  ![image-20220501151605672](http://qn.chinavanes.com/qiniu_picGo/image-20220501151605672.png)

  

如果想要给模拟数据新增数据则可以利用 post 方式，在请求模式中选择 post，不过还需要给新数据设置对应的值，所以要给 body 添加对应的参数，这部分内容相当于表单处理。更为重要的是需要选择表单参数传递模式，当前选择 x-www-form-urlencoded，然后再在键值对处添加 name、address以及 avatar等信息，不需要关心 id，因为它是自增的。

在添加完数据以后，可以重新打开get请求的tab选项卡页面地址，则会发现新增数据已经添加进去了。

当然，如果你想修改刚刚添加的这条数据内容，则可以利用 put 请求模式，不过修改数据的时候需要指定数据的内容，所以将请求地址指向了 id 为 2 的记录，同样的，表单的传递模式与表单键值对参数可以进行再设置。

至于删除操作则是 delete，也需要指定删除的记录内容，所以地址中同样涵盖 id 参数，不过 delete 比较简单，不需要设置其它更多的内容即可实现。

除了简单的GET、POST、PUT、DELETE以外对数据获取操作还可以进行更多复杂的处理，比如在 postman 中进行 http://localhost:5000/users?\_page=1&\_limit=5 接口的 get 请求，就可以返回 json-server 服务进行分页以后的数据内容，因为之前模拟数据利用了json-server与mockjs结合，所以生成的随机数据也更接近真实项目的内容，并且支持中文，这从结果上可以明确。其实从json-server官网文档上可以进一步查看请求的参数与方式，这些都可以在postman中进行不断的尝试与测试。

  ![image-20220501184758796](http://qn.chinavanes.com/qiniu_picGo/image-20220501184758796.png)

  

